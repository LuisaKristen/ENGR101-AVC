#include <stdio.h>
#include "E101.h"

double updateWhiteThreshold() {
init()
for (int i=0; i<5; i++){
take_picture();
      int min = 255;
      int max = 0;    
      for (int i = 0; i < 320; i++) {
              int currentPixel = get_pixel(120, i, 3);

              if (currentPixel > max) {
                      max = currentPixel;
              }
              else if (currentPixel < min) {
                      min = currentPixel;
              }
      }

      whiteThreshold = (max + min) / 2;
      printf("White threshold: %f \n", whiteThreshold);
}
}
